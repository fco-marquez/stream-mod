<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat Moderado</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/embed_styles.css') }}">
</head>
<body>
    <input type="hidden" id="session-id" value="{{ session_id }}">
    
    <div id="chat-box" class="chat-box"></div>


        <div class="moderation-reason">
            <h3>Razones de Moderación</h3>
            <div class="reason-filters">
                {% for reason in moderation_reason %}
                    <label>
                        <input type="checkbox" name="reason" value="{{ reason }}" checked>
                        <span>{{ reason }}</span>
                    </label>
                {% endfor %}
            </div>
        </div>


    <!-- Enhanced Moderation Modal -->
    <div id="message-modal" class="modal hidden">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h3>Detalles del Mensaje</h3>
                <button class="close-btn" type="button">&times;</button>
            </div>

            <!-- Message Content -->
            <div class="message-content">
                <div id="modal-message"></div>
            </div>

            <!-- Message Info -->
            <div class="message-info">
                <div class="info-item">
                    <strong>Usuario:</strong>
                    <span id="modal-user"></span>
                </div>
                <div class="info-item">
                    <strong>Hora:</strong>
                    <span id="modal-time"></span>
                </div>
                <div class="info-item" style="grid-column: 1 / -1;">
                    <strong>Estado:</strong>
                    <span id="modal-reason"></span>
                </div>
            </div>

            <!-- Moderation Reasons -->
            <div id="moderation-reason" class="moderation-section">
                <h4>Selecciona las razones de moderación:</h4>
                <div class="reasons-grid">
                    <div class="reason-item">
                        <input type="checkbox" id="reason-1" value="Garabatos no peyorativos">
                        <label for="reason-1">Garabatos no peyorativos</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-2" value="Spam">
                        <label for="reason-2">Spam</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-3" value="Racismo/Xenofobia">
                        <label for="reason-3">Racismo/Xenofobia</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-4" value="Homofobia">
                        <label for="reason-4">Homofobia</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-5" value="Contenido sexual">
                        <label for="reason-5">Contenido sexual</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-6" value="Insulto">
                        <label for="reason-6">Insulto</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-7" value="Machismo/Misoginia/Sexismo">
                        <label for="reason-7">Machismo/Misoginia/Sexismo</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-8" value="Divulgación de información personal (doxxing)">
                        <label for="reason-8">Divulgación de información personal (doxxing)</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-9" value="Amenaza/acoso violento">
                        <label for="reason-9">Amenaza/acoso violento</label>
                    </div>
                    <div class="reason-item">
                        <input type="checkbox" id="reason-10" value="Otros">
                        <label for="reason-10">Otros</label>
                    </div>
                </div>
            </div>

            <!-- Modal Actions -->
            <div class="modal-actions">
                <button id="moderate-btn" class="btn btn-moderate">Moderar</button>
                <button id="unmoderate-btn" class="btn btn-unmoderate">Desmoderar</button>
            </div>
        </div>
    </div>

    <script>
        // Initialize selected reasons for filtering (if needed)
        window.selectedReasons = new Set([
            'Garabatos no peyorativos',
            'Spam',
            'Racismo/Xenofobia',
            'Homofobia',
            'Contenido sexual',
            'Insulto',
            'Machismo/Misoginia/Sexismo',
            'Divulgación de información personal (doxxing)',
            'Amenaza/acoso violento',
            'Otros'
        ]);


    </script>

    <script src="{{ url_for('static', filename='js/chat_only.js') }}"></script>
</body>
</html>